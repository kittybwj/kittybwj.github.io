<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="LeetCode," />










<meta name="description" content="前言最近频繁写SQL，便想着趁热打铁把LeetCode上面的数据库的题都做一遍，现总结一下。 No.175 组合两个表(Easy)表1: Person 12345678+-------------+---------+| 列名         | 类型     |+-------------+---------+| PersonId    | int     || FirstName   | va">
<meta name="keywords" content="LeetCode">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode刷题——Database">
<meta property="og:url" content="http://www.biwenjie.com/2019/05/16/2019-05-16-LeetCode刷题——Database/index.html">
<meta property="og:site_name" content="Kitty&#39;s blog">
<meta property="og:description" content="前言最近频繁写SQL，便想着趁热打铁把LeetCode上面的数据库的题都做一遍，现总结一下。 No.175 组合两个表(Easy)表1: Person 12345678+-------------+---------+| 列名         | 类型     |+-------------+---------+| PersonId    | int     || FirstName   | va">
<meta property="og:updated_time" content="2019-05-16T15:17:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode刷题——Database">
<meta name="twitter:description" content="前言最近频繁写SQL，便想着趁热打铁把LeetCode上面的数据库的题都做一遍，现总结一下。 No.175 组合两个表(Easy)表1: Person 12345678+-------------+---------+| 列名         | 类型     |+-------------+---------+| PersonId    | int     || FirstName   | va">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.biwenjie.com/2019/05/16/2019-05-16-LeetCode刷题——Database/"/>





  <title>LeetCode刷题——Database | Kitty's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kitty's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">美少女程序媛Kitty的搬砖日常</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.biwenjie.com/2019/05/16/2019-05-16-LeetCode刷题——Database/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kitty">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/kitty.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kitty's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">LeetCode刷题——Database</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-16T23:14:59+08:00">
                2019-05-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  4,108 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  18 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>最近频繁写SQL，便想着趁热打铁把LeetCode上面的数据库的题都做一遍，现总结一下。</p>
<h4 id="No-175-组合两个表-Easy"><a href="#No-175-组合两个表-Easy" class="headerlink" title="No.175 组合两个表(Easy)"></a>No.175 组合两个表(Easy)</h4><p>表1: <code>Person</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+<span class="comment">-------------+---------+</span></div><div class="line">| 列名         | 类型     |</div><div class="line">+<span class="comment">-------------+---------+</span></div><div class="line">| PersonId    | int     |</div><div class="line">| FirstName   | varchar |</div><div class="line">| LastName    | varchar |</div><div class="line">+<span class="comment">-------------+---------+</span></div><div class="line">PersonId 是上表主键</div></pre></td></tr></table></figure>
<p>表2: <code>Address</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+<span class="comment">-------------+---------+</span></div><div class="line">| 列名         | 类型    |</div><div class="line">+<span class="comment">-------------+---------+</span></div><div class="line">| AddressId   | int     |</div><div class="line">| PersonId    | int     |</div><div class="line">| City        | varchar |</div><div class="line">| State       | varchar |</div><div class="line">+<span class="comment">-------------+---------+</span></div><div class="line">AddressId 是上表主键</div></pre></td></tr></table></figure>
<p>编写一个 SQL 查询，满足条件：无论 person 是否有地址信息，都需要基于上述两表提供 person 的以下信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">FirstName, LastName, City, State</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">select p.FirstName,p.LastName,a.City,a.State</div><div class="line">from Person p</div><div class="line">left join Address a</div><div class="line">on p.PersonId = a.PersonId</div></pre></td></tr></table></figure>
<p><strong>知识点</strong></p>
<p>1、inner join、left join、right join、逗号连接的区别</p>
<ul>
<li>inner join：只返回两个表中联结字段相等的行</li>
<li>left join：返回<strong>左表中的所有记录</strong>和右表中联结字段相等的记录 </li>
<li>right join：返回<strong>右表中的所有记录</strong>和左表中联结字段相等的记录 </li>
<li>sql用逗号连接多张表对应的是 inner join</li>
</ul>
<a id="more"></a>
<h4 id="No-176-第二高的薪水-Easy"><a href="#No-176-第二高的薪水-Easy" class="headerlink" title="No.176 第二高的薪水(Easy)"></a>No.176 第二高的薪水(Easy)</h4><p>编写一个 SQL 查询，获取 <code>Employee</code> 表中第二高的薪水（Salary） 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">+----+--------+</div><div class="line">| Id | Salary |</div><div class="line">+----+--------+</div><div class="line">| 1  | 100    |</div><div class="line">| 2  | 200    |</div><div class="line">| 3  | 300    |</div><div class="line">+----+--------+</div></pre></td></tr></table></figure>
<p>例如上述 <code>Employee</code> 表，SQL查询应该返回 <code>200</code> 作为第二高的薪水。如果不存在第二高的薪水，那么查询应返回 <code>null</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+---------------------+</div><div class="line">| SecondHighestSalary |</div><div class="line">+---------------------+</div><div class="line">| 200                 |</div><div class="line">+---------------------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">select IFNULL </div><div class="line">((select distinct Salary </div><div class="line">from Employee</div><div class="line">order by Salary desc</div><div class="line">limit 1,1),NULL)</div><div class="line">as SecondHighestSalary</div></pre></td></tr></table></figure>
<p><strong>知识点</strong></p>
<p>1、IFNULL(expr1,expr2)</p>
<ul>
<li>如果expr1不是NULL，IFNULL()返回expr1，否则它返回expr2。</li>
<li>IFNULL()返回一个数字或字符串值。</li>
</ul>
<p>2、limit的用法</p>
<ul>
<li>LIMIT 子句可以被用于强制 SELECT 语句返回指定的记录数。LIMIT 接受一个或两个数字参数。参数必须是一个整数常量。</li>
<li>limit 5 ：指检索前5条记录行</li>
<li>limit 5,10：指检索6-15条记录行（第一个参数：起始位置，初始位置为0；第二个参数：偏移量）</li>
</ul>
<p>3、distinct的用法</p>
<ul>
<li>关键词 DISTINCT 用于返回唯一不同的值</li>
</ul>
<h4 id="No-177-第N高的薪水-Medium"><a href="#No-177-第N高的薪水-Medium" class="headerlink" title="No.177 第N高的薪水(Medium)"></a>No.177 第N高的薪水(Medium)</h4><p>编写一个 SQL 查询，获取 <code>Employee</code> 表中第 <em>n</em> 高的薪水（Salary）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">+----+--------+</div><div class="line">| Id | Salary |</div><div class="line">+----+--------+</div><div class="line">| 1  | 100    |</div><div class="line">| 2  | 200    |</div><div class="line">| 3  | 300    |</div><div class="line">+----+--------+</div></pre></td></tr></table></figure>
<p>例如上述 <code>Employee</code> 表，<em>n = 2</em> 时，应返回第二高的薪水 <code>200</code>。如果不存在第 <em>n</em> 高的薪水，那么查询应返回 <code>null</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+------------------------+</div><div class="line">| getNthHighestSalary(2) |</div><div class="line">+------------------------+</div><div class="line">| 200                    |</div><div class="line">+------------------------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">方法一：</div><div class="line">CREATE FUNCTION getHighestSalary(N INT) RETURNS INT</div><div class="line">BEGIN</div><div class="line">Set N = N-1;</div><div class="line">RETURN (</div><div class="line">    select IFNULL (</div><div class="line">        (select DISTINCT Salary from Employee order by Salary DESC limit N, 1),NULL)</div><div class="line">);</div><div class="line">END</div></pre></td></tr></table></figure>
<p><strong>思路：</strong>将所有工资降序排列并去重，因为是取第N高的，所以取第N个开始的第一条。因为limit的第一个参数以0开始，所以用 limit N-1,1。这里要注意的是，limit中不识别运算，所以要现在前面加上SET N = N - 1。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">方法二:</div><div class="line">select(</div><div class="line">    IF((select count(*) from (select distinct e.Salary from Employee e) e)&gt;=N,</div><div class="line">       (select min(e.Salary) from (select distinct e.Salary from Employee e order by e.Salary desc limit N) e), NULL))</div></pre></td></tr></table></figure>
<p><strong>思路：</strong>将所有工资降序排序并去重，若存在第N高，则返回前N条中最小的工资，若不存在则返回NULL。</p>
<h4 id="No-178-分数排名-Medium"><a href="#No-178-分数排名-Medium" class="headerlink" title="No.178 分数排名(Medium)"></a>No.178 分数排名(Medium)</h4><p>编写一个 SQL 查询来实现分数排名。如果两个分数相同，则两个分数排名（Rank）相同。请注意，平分后的下一个名次应该是下一个连续的整数值。换句话说，名次之间不应该有“间隔”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">+----+-------+</div><div class="line">| Id | Score |</div><div class="line">+----+-------+</div><div class="line">| 1  | 3.50  |</div><div class="line">| 2  | 3.65  |</div><div class="line">| 3  | 4.00  |</div><div class="line">| 4  | 3.85  |</div><div class="line">| 5  | 4.00  |</div><div class="line">| 6  | 3.65  |</div><div class="line">+----+-------+</div></pre></td></tr></table></figure>
<p>例如，根据上述给定的 <code>Scores</code> 表，你的查询应该返回（按分数从高到低排列）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">+-------+------+</div><div class="line">| Score | Rank |</div><div class="line">+-------+------+</div><div class="line">| 4.00  | 1    |</div><div class="line">| 4.00  | 1    |</div><div class="line">| 3.85  | 2    |</div><div class="line">| 3.65  | 3    |</div><div class="line">| 3.65  | 3    |</div><div class="line">| 3.50  | 4    |</div><div class="line">+-------+------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">select Score,</div><div class="line">(select count(distinct Score) from Scores where score &gt;= s.Score) Rank</div><div class="line">from Scores s</div><div class="line">order by Score desc</div></pre></td></tr></table></figure>
<p><strong>思路：</strong></p>
<p>求在所有成绩中有多少个不同的成绩大于等于当前成绩，即当前成绩的排名。</p>
<h4 id="No-180-连续出现的数字-Medium"><a href="#No-180-连续出现的数字-Medium" class="headerlink" title="No.180 连续出现的数字(Medium)"></a>No.180 连续出现的数字(Medium)</h4><p>编写一个 SQL 查询，查找所有至少连续出现三次的数字。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">+----+-----+</div><div class="line">| Id | Num |</div><div class="line">+----+-----+</div><div class="line">| 1  |  1  |</div><div class="line">| 2  |  1  |</div><div class="line">| 3  |  1  |</div><div class="line">| 4  |  2  |</div><div class="line">| 5  |  1  |</div><div class="line">| 6  |  2  |</div><div class="line">| 7  |  2  |</div><div class="line">+----+-----+</div></pre></td></tr></table></figure>
<p>例如，给定上面的 <code>Logs</code> 表， <code>1</code> 是唯一连续出现至少三次的数字。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+-----------------+</div><div class="line">| ConsecutiveNums |</div><div class="line">+-----------------+</div><div class="line">| 1               |</div><div class="line">+-----------------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">select distinct l1.Num as ConsecutiveNums </div><div class="line">from Logs l1,Logs l2,Logs l3</div><div class="line">where l1.Id = l2.Id -1 and  l1.Id = l3.Id -2</div><div class="line">and l1.Num = l2.Num and l1.num = l3.num</div></pre></td></tr></table></figure>
<p><strong>思路：</strong></p>
<p>将表关联查询，如果id为三个连续的，且Num相同，输出该Num。</p>
<h4 id="No-181-超过经理收入的员工-Easy"><a href="#No-181-超过经理收入的员工-Easy" class="headerlink" title="No.181 超过经理收入的员工(Easy)"></a>No.181 超过经理收入的员工(Easy)</h4><p><code>Employee</code> 表包含所有员工，他们的经理也属于员工。每个员工都有一个 Id，此外还有一列对应员工的经理的 Id。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+----+-------+--------+-----------+</div><div class="line">| Id | Name  | Salary | ManagerId |</div><div class="line">+----+-------+--------+-----------+</div><div class="line">| 1  | Joe   | 70000  | 3         |</div><div class="line">| 2  | Henry | 80000  | 4         |</div><div class="line">| 3  | Sam   | 60000  | NULL      |</div><div class="line">| 4  | Max   | 90000  | NULL      |</div><div class="line">+----+-------+--------+-----------+</div></pre></td></tr></table></figure>
<p>给定 <code>Employee</code> 表，编写一个 SQL 查询，该查询可以获取收入超过他们经理的员工的姓名。在上面的表格中，Joe 是唯一一个收入超过他的经理的员工。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+----------+</div><div class="line">| Employee |</div><div class="line">+----------+</div><div class="line">| Joe      |</div><div class="line">+----------+</div></pre></td></tr></table></figure>
<p><strong>SQl语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">select a.Name as Employee from Employee a</div><div class="line">left join Employee b on a.ManagerId = b.Id</div><div class="line">where a.Salary &gt; b.Salary</div></pre></td></tr></table></figure>
<h4 id="No-182-查找重复的电子邮箱-Easy"><a href="#No-182-查找重复的电子邮箱-Easy" class="headerlink" title="No.182 查找重复的电子邮箱(Easy)"></a>No.182 查找重复的电子邮箱(Easy)</h4><p>编写一个 SQL 查询，查找 <code>Person</code> 表中所有重复的电子邮箱。</p>
<p><strong>示例：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">+----+---------+</div><div class="line">| Id | Email   |</div><div class="line">+----+---------+</div><div class="line">| 1  | a@b.com |</div><div class="line">| 2  | c@d.com |</div><div class="line">| 3  | a@b.com |</div><div class="line">+----+---------+</div></pre></td></tr></table></figure>
<p>根据以上输入，你的查询应返回以下结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+---------+</div><div class="line">| Email   |</div><div class="line">+---------+</div><div class="line">| a@b.com |</div><div class="line">+---------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">select Email from Person </div><div class="line">group by Email</div><div class="line">having count(Email)&gt;1</div></pre></td></tr></table></figure>
<p><strong>知识点</strong></p>
<p>1、having和where的区别</p>
<ul>
<li>区别一： <ol>
<li>where 是数据从磁盘读入内存时候一条一条判断的</li>
<li>having 是将所有数据读入内存，在分组统计前，根据having的条件再将不符合条件的数据删除</li>
</ol>
</li>
<li>区别二：<ol>
<li>having 子句可以使用字段别名，where不可以用。因为having是从前面筛选的字段再筛选，而where是从数据表中的字段直接进行的筛选的。</li>
</ol>
</li>
<li>区别三： <ol>
<li>having可以使用统计函数，where不可用</li>
<li>having筛选必须是 根据前面select字段的值 进行筛选</li>
</ol>
</li>
</ul>
<h4 id="No-183-从不订购的客户-Easy"><a href="#No-183-从不订购的客户-Easy" class="headerlink" title="No.183 从不订购的客户(Easy)"></a>No.183 从不订购的客户(Easy)</h4><p>某网站包含两个表，<code>Customers</code> 表和 <code>Orders</code> 表。编写一个 SQL 查询，找出所有从不订购任何东西的客户。</p>
<p><code>Customers</code> 表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+----+-------+</div><div class="line">| Id | Name  |</div><div class="line">+----+-------+</div><div class="line">| 1  | Joe   |</div><div class="line">| 2  | Henry |</div><div class="line">| 3  | Sam   |</div><div class="line">| 4  | Max   |</div><div class="line">+----+-------+</div></pre></td></tr></table></figure>
<p><code>Orders</code> 表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+----+------------+</div><div class="line">| Id | CustomerId |</div><div class="line">+----+------------+</div><div class="line">| 1  | 3          |</div><div class="line">| 2  | 1          |</div><div class="line">+----+------------+</div></pre></td></tr></table></figure>
<p>例如给定上述表格，你的查询应返回：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+-----------+</div><div class="line">| Customers |</div><div class="line">+-----------+</div><div class="line">| Henry     |</div><div class="line">| Max       |</div><div class="line">+-----------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select Name as Customers from Customers </div><div class="line">where Id not in (select  CustomerId  from Orders)</div></pre></td></tr></table></figure>
<h4 id="No-184-部门工资最高的员工-Medium"><a href="#No-184-部门工资最高的员工-Medium" class="headerlink" title="No.184 部门工资最高的员工(Medium)"></a>No.184 部门工资最高的员工(Medium)</h4><p><code>Employee</code> 表包含所有员工信息，每个员工有其对应的 Id, salary 和 department Id。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+----+-------+--------+--------------+</div><div class="line">| Id | Name  | Salary | DepartmentId |</div><div class="line">+----+-------+--------+--------------+</div><div class="line">| 1  | Joe   | 70000  | 1            |</div><div class="line">| 2  | Henry | 80000  | 2            |</div><div class="line">| 3  | Sam   | 60000  | 2            |</div><div class="line">| 4  | Max   | 90000  | 1            |</div><div class="line">+----+-------+--------+--------------+</div></pre></td></tr></table></figure>
<p><code>Department</code> 表包含公司所有部门的信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+----+----------+</div><div class="line">| Id | Name     |</div><div class="line">+----+----------+</div><div class="line">| 1  | IT       |</div><div class="line">| 2  | Sales    |</div><div class="line">+----+----------+</div></pre></td></tr></table></figure>
<p>编写一个 SQL 查询，找出每个部门工资最高的员工。例如，根据上述给定的表格，Max 在 IT 部门有最高工资，Henry 在 Sales 部门有最高工资。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+------------+----------+--------+</div><div class="line">| Department | Employee | Salary |</div><div class="line">+------------+----------+--------+</div><div class="line">| IT         | Max      | 90000  |</div><div class="line">| Sales      | Henry    | 80000  |</div><div class="line">+------------+----------+--------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">select d.Name as Department ,e.Name as Employee , e.Salary </div><div class="line">from Employee e,Department d </div><div class="line">where e.DepartmentId = d.Id </div><div class="line">and (e.Salary,e.DepartmentId) in</div><div class="line">(select max(Salary) as Salary,DepartmentId from Employee group by DepartmentId)</div></pre></td></tr></table></figure>
<p><strong>思路：</strong></p>
<p>通过group by 部门id选出每个部门的最高薪水，如果人员的部门id和薪水与最高薪水的数据相等，则输出。</p>
<h4 id="No-185-部门工资前三高的员工-Hard"><a href="#No-185-部门工资前三高的员工-Hard" class="headerlink" title="No.185 部门工资前三高的员工(Hard)"></a>No.185 部门工资前三高的员工(Hard)</h4><p><code>Employee</code> 表包含所有员工信息，每个员工有其对应的 Id, salary 和 department Id 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">+----+-------+--------+--------------+</div><div class="line">| Id | Name  | Salary | DepartmentId |</div><div class="line">+----+-------+--------+--------------+</div><div class="line">| 1  | Joe   | 70000  | 1            |</div><div class="line">| 2  | Henry | 80000  | 2            |</div><div class="line">| 3  | Sam   | 60000  | 2            |</div><div class="line">| 4  | Max   | 90000  | 1            |</div><div class="line">| 5  | Janet | 69000  | 1            |</div><div class="line">| 6  | Randy | 85000  | 1            |</div><div class="line">+----+-------+--------+--------------+</div></pre></td></tr></table></figure>
<p><code>Department</code> 表包含公司所有部门的信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+----+----------+</div><div class="line">| Id | Name     |</div><div class="line">+----+----------+</div><div class="line">| 1  | IT       |</div><div class="line">| 2  | Sales    |</div><div class="line">+----+----------+</div></pre></td></tr></table></figure>
<p>编写一个 SQL 查询，找出每个部门工资前三高的员工。例如，根据上述给定的表格，查询结果应返回：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+------------+----------+--------+</div><div class="line">| Department | Employee | Salary |</div><div class="line">+------------+----------+--------+</div><div class="line">| IT         | Max      | 90000  |</div><div class="line">| IT         | Randy    | 85000  |</div><div class="line">| IT         | Joe      | 70000  |</div><div class="line">| Sales      | Henry    | 80000  |</div><div class="line">| Sales      | Sam      | 60000  |</div><div class="line">+------------+----------+--------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">select tb2.Name as Department ,tb1.Name as Employee, tb1.Salary as Salary</div><div class="line">from Employee tb1,Department tb2</div><div class="line">where tb1.DepartmentId = tb2.Id</div><div class="line">and (select count(distinct tb3.Salary)</div><div class="line">    from Employee tb3</div><div class="line">    where tb3.DepartmentId = tb1.DepartmentId and tb3.Salary &gt; tb1.Salary)&lt;3</div><div class="line">order by tb1.DepartmentId</div></pre></td></tr></table></figure>
<p><strong>思路：</strong></p>
<p>如果是排名第一的员工，则工资高于它的数据应为0条；排名第二的员工，高于他的应为1条；排名第三的员工，高于他的应为两条。因此计算与当前人员部门相同，且工资比他高的人的数量，如果小于3，则他是排名前三的员工。</p>
<h4 id="No-196-删除重复的电子邮箱-Easy"><a href="#No-196-删除重复的电子邮箱-Easy" class="headerlink" title="No.196 删除重复的电子邮箱(Easy)"></a>No.196 删除重复的电子邮箱(Easy)</h4><p>编写一个 SQL 查询，来删除 <code>Person</code> 表中所有重复的电子邮箱，重复的邮箱里只保留 <strong>Id</strong> <em>最小</em> 的那个。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+----+------------------+</div><div class="line">| Id | Email            |</div><div class="line">+----+------------------+</div><div class="line">| 1  | john@example.com |</div><div class="line">| 2  | bob@example.com  |</div><div class="line">| 3  | john@example.com |</div><div class="line">+----+------------------+</div><div class="line">Id 是这个表的主键。</div></pre></td></tr></table></figure>
<p>例如，在运行你的查询语句之后，上面的 <code>Person</code> 表应返回以下几行:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+----+------------------+</div><div class="line">| Id | Email            |</div><div class="line">+----+------------------+</div><div class="line">| 1  | john@example.com |</div><div class="line">| 2  | bob@example.com  |</div><div class="line">+----+------------------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">delete p1 </div><div class="line">from Person p1,Person p2</div><div class="line">where p1.Email = p2.Email and p1.Id &gt; p2.Id</div></pre></td></tr></table></figure>
<h4 id="No-197-上升的温度-Easy"><a href="#No-197-上升的温度-Easy" class="headerlink" title="No.197 上升的温度(Easy)"></a>No.197 上升的温度(Easy)</h4><p>给定一个 <code>Weather</code> 表，编写一个 SQL 查询，来查找与之前（昨天的）日期相比温度更高的所有日期的 Id。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+---------+------------------+------------------+</div><div class="line">| Id(INT) | RecordDate(DATE) | Temperature(INT) |</div><div class="line">+---------+------------------+------------------+</div><div class="line">|       1 |       2015-01-01 |               10 |</div><div class="line">|       2 |       2015-01-02 |               25 |</div><div class="line">|       3 |       2015-01-03 |               20 |</div><div class="line">|       4 |       2015-01-04 |               30 |</div><div class="line">+---------+------------------+------------------+</div></pre></td></tr></table></figure>
<p>例如，根据上述给定的 <code>Weather</code> 表格，返回如下 Id:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+----+</div><div class="line">| Id |</div><div class="line">+----+</div><div class="line">|  2 |</div><div class="line">|  4 |</div><div class="line">+----+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">SELECT w1.Id </div><div class="line">FROM Weather w1, Weather w2</div><div class="line">WHERE w1.Temperature &gt; w2.Temperature </div><div class="line">AND TO_DAYS(w1.RecordDate)=TO_DAYS(w2.RecordDate) + 1;</div></pre></td></tr></table></figure>
<p><strong>知识点</strong></p>
<ul>
<li>TO_DAYS(date)：给定一个日期date, 返回一个天数 (从年份0开始的天数 )。</li>
</ul>
<h4 id="No-262-行程和用户-Hard"><a href="#No-262-行程和用户-Hard" class="headerlink" title="No.262 行程和用户(Hard)"></a>No.262 行程和用户(Hard)</h4><p><code>Trips</code> 表中存所有出租车的行程信息。每段行程有唯一键 Id，Client_Id 和 Driver_Id 是 <code>Users</code> 表中 Users_Id 的外键。Status 是枚举类型，枚举成员为 (‘completed’, ‘cancelled_by_driver’, ‘cancelled_by_client’)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">+----+-----------+-----------+---------+--------------------+----------+</div><div class="line">| Id | Client_Id | Driver_Id | City_Id |        Status      |Request_at|</div><div class="line">+----+-----------+-----------+---------+--------------------+----------+</div><div class="line">| 1  |     1     |    10     |    1    |     completed      |2013-10-01|</div><div class="line">| 2  |     2     |    11     |    1    | cancelled_by_driver|2013-10-01|</div><div class="line">| 3  |     3     |    12     |    6    |     completed      |2013-10-01|</div><div class="line">| 4  |     4     |    13     |    6    | cancelled_by_client|2013-10-01|</div><div class="line">| 5  |     1     |    10     |    1    |     completed      |2013-10-02|</div><div class="line">| 6  |     2     |    11     |    6    |     completed      |2013-10-02|</div><div class="line">| 7  |     3     |    12     |    6    |     completed      |2013-10-02|</div><div class="line">| 8  |     2     |    12     |    12   |     completed      |2013-10-03|</div><div class="line">| 9  |     3     |    10     |    12   |     completed      |2013-10-03| </div><div class="line">| 10 |     4     |    13     |    12   | cancelled_by_driver|2013-10-03|</div><div class="line">+----+-----------+-----------+---------+--------------------+----------+</div></pre></td></tr></table></figure>
<p><code>Users</code> 表存所有用户。每个用户有唯一键 Users_Id。Banned 表示这个用户是否被禁止，Role 则是一个表示（‘client’, ‘driver’, ‘partner’）的枚举类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">+----------+--------+--------+</div><div class="line">| Users_Id | Banned |  Role  |</div><div class="line">+----------+--------+--------+</div><div class="line">|    1     |   No   | client |</div><div class="line">|    2     |   Yes  | client |</div><div class="line">|    3     |   No   | client |</div><div class="line">|    4     |   No   | client |</div><div class="line">|    10    |   No   | driver |</div><div class="line">|    11    |   No   | driver |</div><div class="line">|    12    |   No   | driver |</div><div class="line">|    13    |   No   | driver |</div><div class="line">+----------+--------+--------+</div></pre></td></tr></table></figure>
<p>写一段 SQL 语句查出 <strong>2013年10月1日</strong> 至 <strong>2013年10月3日</strong> 期间非禁止用户的取消率。基于上表，你的 SQL 语句应返回如下结果，取消率（Cancellation Rate）保留两位小数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">+------------+-------------------+</div><div class="line">|     Day    | Cancellation Rate |</div><div class="line">+------------+-------------------+</div><div class="line">| 2013-10-01 |       0.33        |</div><div class="line">| 2013-10-02 |       0.00        |</div><div class="line">| 2013-10-03 |       0.50        |</div><div class="line">+------------+-------------------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">select t.Request_at as Day,round(count(if(status != &apos;completed&apos;, status, null)) / count(status), 2) as &apos;Cancellation Rate&apos;</div><div class="line">from Users u </div><div class="line">inner join Trips t</div><div class="line">on u.Users_id = t.Client_Id</div><div class="line">and u.banned = &apos;No&apos;</div><div class="line">where t.Request_at between &apos;2013-10-01&apos; and &apos;2013-10-03&apos;</div><div class="line">group by t.Request_at</div></pre></td></tr></table></figure>
<p> <strong>知识点：</strong></p>
<p>1、round函数</p>
<ul>
<li>round(x,d)  ，x指要处理的数，d是指保留几位小数。d可以是负数，这时是指定小数点左边的d位整数位为0,同时小数位均为0。</li>
<li>round(x)  ,其实就是round(x,0),也就是默认d为0；</li>
</ul>
<p>2、if(expr1,expr2,expr3)</p>
<ul>
<li><p>如果expr1条件为真，返回expr2,否则返回expr3。</p>
</li>
<li><p>sum(if())用法：sum(if(表达式),size,0)。如果满足表达式，返回数值类型的值，否则返回0。</p>
</li>
<li><p>count(if())用法：count(if(表达式，true,null))。如果满足表达式，参与count计数，否则不参与。</p>
</li>
</ul>
<h4 id="No-595-大的国家-Easy"><a href="#No-595-大的国家-Easy" class="headerlink" title="No.595 大的国家(Easy)"></a>No.595 大的国家(Easy)</h4><p>这里有张 <code>World</code> 表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+-----------------+------------+------------+--------------+---------------+</div><div class="line">| name            | continent  | area       | population   | gdp           |</div><div class="line">+-----------------+------------+------------+--------------+---------------+</div><div class="line">| Afghanistan     | Asia       | 652230     | 25500100     | 20343000      |</div><div class="line">| Albania         | Europe     | 28748      | 2831741      | 12960000      |</div><div class="line">| Algeria         | Africa     | 2381741    | 37100000     | 188681000     |</div><div class="line">| Andorra         | Europe     | 468        | 78115        | 3712000       |</div><div class="line">| Angola          | Africa     | 1246700    | 20609294     | 100990000     |</div><div class="line">+-----------------+------------+------------+--------------+---------------+</div></pre></td></tr></table></figure>
<p>如果一个国家的面积超过300万平方公里，或者人口超过2500万，那么这个国家就是大国家。</p>
<p>编写一个SQL查询，输出表中所有大国家的名称、人口和面积。</p>
<p>例如，根据上表，我们应该输出:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+--------------+-------------+--------------+</div><div class="line">| name         | population  | area         |</div><div class="line">+--------------+-------------+--------------+</div><div class="line">| Afghanistan  | 25500100    | 652230       |</div><div class="line">| Algeria      | 37100000    | 2381741      |</div><div class="line">+--------------+-------------+--------------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">select name,population,area </div><div class="line">from World</div><div class="line">where (area &gt; 3000000 or population &gt; 25000000)</div></pre></td></tr></table></figure>
<h4 id="No-596-超过5名学生的课-Easy"><a href="#No-596-超过5名学生的课-Easy" class="headerlink" title="No.596 超过5名学生的课(Easy)"></a>No.596 超过5名学生的课(Easy)</h4><p>有一个<code>courses</code> 表 ，有: <strong>student (学生)</strong> 和 <strong>class (课程)</strong>。</p>
<p>请列出所有超过或等于5名学生的课。</p>
<p>例如,表:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">+---------+------------+</div><div class="line">| student | class      |</div><div class="line">+---------+------------+</div><div class="line">| A       | Math       |</div><div class="line">| B       | English    |</div><div class="line">| C       | Math       |</div><div class="line">| D       | Biology    |</div><div class="line">| E       | Math       |</div><div class="line">| F       | Computer   |</div><div class="line">| G       | Math       |</div><div class="line">| H       | Math       |</div><div class="line">| I       | Math       |</div><div class="line">+---------+------------+</div></pre></td></tr></table></figure>
<p>应该输出:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+---------+</div><div class="line">| class   |</div><div class="line">+---------+</div><div class="line">| Math    |</div><div class="line">+---------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">select class </div><div class="line">from courses</div><div class="line">group by class</div><div class="line">having count(distinct student) &gt;4</div></pre></td></tr></table></figure>
<h4 id="No-601-体育馆的人流量-Hard"><a href="#No-601-体育馆的人流量-Hard" class="headerlink" title="No.601 体育馆的人流量(Hard)"></a>No.601 体育馆的人流量(Hard)</h4><p>X 市建了一个新的体育馆，每日人流量信息被记录在这三列信息中：<strong>序号</strong> (id)、<strong>日期</strong> (date)、 <strong>人流量</strong> (people)。</p>
<p>请编写一个查询语句，找出高峰期时段，要求连续三天及以上，并且每天人流量均不少于100。</p>
<p>例如，表 <code>stadium</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">+------+------------+-----------+</div><div class="line">| id   | date       | people    |</div><div class="line">+------+------------+-----------+</div><div class="line">| 1    | 2017-01-01 | 10        |</div><div class="line">| 2    | 2017-01-02 | 109       |</div><div class="line">| 3    | 2017-01-03 | 150       |</div><div class="line">| 4    | 2017-01-04 | 99        |</div><div class="line">| 5    | 2017-01-05 | 145       |</div><div class="line">| 6    | 2017-01-06 | 1455      |</div><div class="line">| 7    | 2017-01-07 | 199       |</div><div class="line">| 8    | 2017-01-08 | 188       |</div><div class="line">+------+------------+-----------+</div></pre></td></tr></table></figure>
<p>对于上面的示例数据，输出为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+------+------------+-----------+</div><div class="line">| id   | date       | people    |</div><div class="line">+------+------------+-----------+</div><div class="line">| 5    | 2017-01-05 | 145       |</div><div class="line">| 6    | 2017-01-06 | 1455      |</div><div class="line">| 7    | 2017-01-07 | 199       |</div><div class="line">| 8    | 2017-01-08 | 188       |</div><div class="line">+------+------------+-----------+</div></pre></td></tr></table></figure>
<p><strong>Note:</strong><br> 每天只有一行记录，日期随着 id 的增加而增加。</p>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">select distinct s1.*</div><div class="line">from stadium s1, stadium s2, stadium s3</div><div class="line">where s1.people &gt;= 100 and s2.people&gt;= 100 and s3.people &gt;= 100</div><div class="line">and</div><div class="line">(</div><div class="line">   (s2.id - s1.id = 1 and s3.id - s2.id = 1)</div><div class="line">   or</div><div class="line">   (s3.id - s1.id = 1 and s1.id - s2.id = 1) </div><div class="line">   or</div><div class="line">   (s1.id - s2.id = 1 and s2.id - s3.id = 1) </div><div class="line">) </div><div class="line">order by s1.id;</div></pre></td></tr></table></figure>
<p><strong>思路：</strong></p>
<p>1、要求连续三天以上，所以三个表关联，并保证日期连续</p>
<p>2、如果id为567连续。</p>
<ul>
<li>若需要输出5，把s1对应为5，则<code>s2.id - s1.id = 1 and s3.id - s2.id = 1</code>。</li>
<li>若需要输出6，把s1对应为6，则<code>s3.id - s1.id = 1 and s1.id - s2.id = 1</code>。</li>
<li>若需要输出7，把s1对应为7，则<code>s1.id - s2.id = 1 and s2.id - s3.id = 1</code>。</li>
</ul>
<h4 id="No-620-有趣的电影-Easy"><a href="#No-620-有趣的电影-Easy" class="headerlink" title="No.620 有趣的电影(Easy)"></a>No.620 有趣的电影(Easy)</h4><p>某城市开了一家新的电影院，吸引了很多人过来看电影。该电影院特别注意用户体验，专门有个 LED显示板做电影推荐，上面公布着影评和相关电影描述。</p>
<p>作为该电影院的信息部主管，您需要编写一个 SQL查询，找出所有影片描述为<strong>非</strong> <code>boring</code> (不无聊) 的并且 <strong>id 为奇数</strong> 的影片，结果请按等级 <code>rating</code> 排列。</p>
<p>例如，下表 <code>cinema</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   id    | movie     |  description |  rating   |</div><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   1     | War       |   great 3D   |   8.9     |</div><div class="line">|   2     | Science   |   fiction    |   8.5     |</div><div class="line">|   3     | irish     |   boring     |   6.2     |</div><div class="line">|   4     | Ice song  |   Fantacy    |   8.6     |</div><div class="line">|   5     | House card|   Interesting|   9.1     |</div><div class="line">+---------+-----------+--------------+-----------+</div></pre></td></tr></table></figure>
<p>对于上面的例子，则正确的输出是为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   id    | movie     |  description |  rating   |</div><div class="line">+---------+-----------+--------------+-----------+</div><div class="line">|   5     | House card|   Interesting|   9.1     |</div><div class="line">|   1     | War       |   great 3D   |   8.9     |</div><div class="line">+---------+-----------+--------------+-----------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">select * from cinema</div><div class="line">where description != &apos;boring&apos; and mod(id,2) = 1</div><div class="line">order by rating desc</div></pre></td></tr></table></figure>
<p><strong>知识点：</strong></p>
<p>1、取余是用函数mod(numer1,number2)，其返回的值为其余数值</p>
<h4 id="No-626-换座位-Medium"><a href="#No-626-换座位-Medium" class="headerlink" title="No.626 换座位(Medium)"></a>No.626 换座位(Medium)</h4><p>小美是一所中学的信息科技老师，她有一张 <code>seat</code> 座位表，平时用来储存学生名字和与他们相对应的座位 id。</p>
<p>其中纵列的 <strong>id</strong> 是连续递增的</p>
<p>小美想改变相邻俩学生的座位。</p>
<p>你能不能帮她写一个 SQL query 来输出小美想要的结果呢？</p>
<p><strong>示例：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+---------+---------+</div><div class="line">|    id   | student |</div><div class="line">+---------+---------+</div><div class="line">|    1    | Abbot   |</div><div class="line">|    2    | Doris   |</div><div class="line">|    3    | Emerson |</div><div class="line">|    4    | Green   |</div><div class="line">|    5    | Jeames  |</div><div class="line">+---------+---------+</div></pre></td></tr></table></figure>
<p>假如数据输入的是上表，则输出结果如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+---------+---------+</div><div class="line">|    id   | student |</div><div class="line">+---------+---------+</div><div class="line">|    1    | Doris   |</div><div class="line">|    2    | Abbot   |</div><div class="line">|    3    | Green   |</div><div class="line">|    4    | Emerson |</div><div class="line">|    5    | Jeames  |</div><div class="line">+---------+---------+</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">select </div><div class="line">(case</div><div class="line"> when mod(id,2) = 1 and id != (select count(*) from seat) then id+1</div><div class="line"> when mod(id,2) = 0 then id-1</div><div class="line"> else id</div><div class="line"> end</div><div class="line">)as id,student</div><div class="line">from seat</div><div class="line">order by id</div></pre></td></tr></table></figure>
<p><strong>知识点：</strong></p>
<p>1、case.. when.. then.. else.. end的用法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">SELECT            </div><div class="line">    case                           -------------如果</div><div class="line">    when condition1 then result1   -------------符合condition1，则返回值result1</div><div class="line">    when condition2 then result2   -------------符合condition2，则返回值result2</div><div class="line">    else result3                   -------------其他的返回result3</div><div class="line">    end                            -------------结束</div><div class="line">from table</div></pre></td></tr></table></figure>
<h4 id="No-627-交换工资-Easy"><a href="#No-627-交换工资-Easy" class="headerlink" title="No.627 交换工资(Easy)"></a>No.627 交换工资(Easy)</h4><p>给定一个 <code>salary</code> 表，如下所示，有 m = 男性 和 f = 女性 的值。交换所有的 f 和 m 值（例如，将所有 f 值更改为 m，反之亦然）。要求只使用一个更新（Update）语句，并且没有中间的临时表。</p>
<p>注意，您必只能写一个 Update 语句，请不要编写任何 Select 语句。</p>
<p><strong>例如：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">| id | name | sex | salary |</div><div class="line">|----|------|-----|--------|</div><div class="line">| 1  | A    | m   | 2500   |</div><div class="line">| 2  | B    | f   | 1500   |</div><div class="line">| 3  | C    | m   | 5500   |</div><div class="line">| 4  | D    | f   | 500    |</div></pre></td></tr></table></figure>
<p>运行你所编写的更新语句之后，将会得到以下表:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">| id | name | sex | salary |</div><div class="line">|----|------|-----|--------|</div><div class="line">| 1  | A    | f   | 2500   |</div><div class="line">| 2  | B    | m   | 1500   |</div><div class="line">| 3  | C    | f   | 5500   |</div><div class="line">| 4  | D    | m   | 500    |</div></pre></td></tr></table></figure>
<p><strong>SQL语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">update salary  </div><div class="line">set sex = if(sex = &apos;m&apos;, &apos;f&apos;,&apos;m&apos;);</div></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>您的支持将鼓励我继续创作~</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat_pay.jpeg" alt="Kitty 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/ali_pay.jpeg" alt="Kitty 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/LeetCode/" rel="tag"># LeetCode</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/12/2019-03-12-怀有初心，勇往直前/" rel="next" title="怀有初心，勇往直前">
                <i class="fa fa-chevron-left"></i> 怀有初心，勇往直前
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zMjA5NS84NjU5"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/kitty.jpg"
                alt="Kitty" />
            
              <p class="site-author-name" itemprop="name">Kitty</p>
              <p class="site-description motion-element" itemprop="description">每天都要加油鸭</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/kittybwj" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.jumpbeandev.com//" title="jumpbeandev" target="_blank">jumpbeandev</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-175-组合两个表-Easy"><span class="nav-number">2.</span> <span class="nav-text">No.175 组合两个表(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-176-第二高的薪水-Easy"><span class="nav-number">3.</span> <span class="nav-text">No.176 第二高的薪水(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-177-第N高的薪水-Medium"><span class="nav-number">4.</span> <span class="nav-text">No.177 第N高的薪水(Medium)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-178-分数排名-Medium"><span class="nav-number">5.</span> <span class="nav-text">No.178 分数排名(Medium)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-180-连续出现的数字-Medium"><span class="nav-number">6.</span> <span class="nav-text">No.180 连续出现的数字(Medium)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-181-超过经理收入的员工-Easy"><span class="nav-number">7.</span> <span class="nav-text">No.181 超过经理收入的员工(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-182-查找重复的电子邮箱-Easy"><span class="nav-number">8.</span> <span class="nav-text">No.182 查找重复的电子邮箱(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-183-从不订购的客户-Easy"><span class="nav-number">9.</span> <span class="nav-text">No.183 从不订购的客户(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-184-部门工资最高的员工-Medium"><span class="nav-number">10.</span> <span class="nav-text">No.184 部门工资最高的员工(Medium)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-185-部门工资前三高的员工-Hard"><span class="nav-number">11.</span> <span class="nav-text">No.185 部门工资前三高的员工(Hard)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-196-删除重复的电子邮箱-Easy"><span class="nav-number">12.</span> <span class="nav-text">No.196 删除重复的电子邮箱(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-197-上升的温度-Easy"><span class="nav-number">13.</span> <span class="nav-text">No.197 上升的温度(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-262-行程和用户-Hard"><span class="nav-number">14.</span> <span class="nav-text">No.262 行程和用户(Hard)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-595-大的国家-Easy"><span class="nav-number">15.</span> <span class="nav-text">No.595 大的国家(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-596-超过5名学生的课-Easy"><span class="nav-number">16.</span> <span class="nav-text">No.596 超过5名学生的课(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-601-体育馆的人流量-Hard"><span class="nav-number">17.</span> <span class="nav-text">No.601 体育馆的人流量(Hard)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-620-有趣的电影-Easy"><span class="nav-number">18.</span> <span class="nav-text">No.620 有趣的电影(Easy)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-626-换座位-Medium"><span class="nav-number">19.</span> <span class="nav-text">No.626 换座位(Medium)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#No-627-交换工资-Easy"><span class="nav-number">20.</span> <span class="nav-text">No.627 交换工资(Easy)</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kitty</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  








  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  





  

  

  

  
  

  

  

  

</body>
</html>
